/**
* ╔═══════════════════════════════════════════════════════════════════════════════════════════════════════════════╗
* ║ 	                                       Sistema de Lista de Compras			                              ║
* ╚═══════════════════════════════════════════════════════════════════════════════════════════════════════════════╝
*/

/**
* ╔═══════════════════════════════════════════════════════════════════════════════════════════════════════════════╗
* ║ 1-                                          Pessoas	    	       	                                          ║
* ╚═══════════════════════════════════════════════════════════════════════════════════════════════════════════════╝
*
* ┌───────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
* │ @description: All the users from the system		                                                              │
* └───────────────────────────────────────────────────────────────────────────────────────────────────────────────┘
*/

Create table Pessoas (
id 			INT  			NOT NULL PRIMARY KEY  AUTO_INCREMENT,
nome		VARCHAR(300) 	NOT NULL,
email		VARCHAR(300)	NOT NULL, 
senha 		VARCHAR(300) 	NOT NULL,
status 		VARCHAR(300) 	NOT NULL DEFAULT 'ATIVO' ,
created		DATETIME NOT NULL  DEFAULT NOW(),
updated 	DATETIME NULL

);

/*┌───────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
* │ INSERT INTO										                                                              │
* └───────────────────────────────────────────────────────────────────────────────────────────────────────────────┘
*/
insert into Pessoas (nome, email, senha) values ('Tiago', 'tiagocesar68@gmail.com',  sha1('tiago123')    ) ;

Select * from Pessoas where email = 'teste@gmail.com' and senha = sha1( 'teste123' );


/**
* ╔═══════════════════════════════════════════════════════════════════════════════════════════════════════════════╗
* ║ 2-                                         Lista		                             	                      ║
* ╚═══════════════════════════════════════════════════════════════════════════════════════════════════════════════╝
*
* ┌───────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
* │ @description: A list with its name				                                                              │
* └───────────────────────────────────────────────────────────────────────────────────────────────────────────────┘
*/

Create table Lista (
id 			INT  NOT NULL PRIMARY KEY AUTO_INCREMENT,
nome		VARCHAR(300) 	NOT NULL,
status 		VARCHAR(300) 	NOT NULL DEFAULT 'ATIVO' ,
created		DATETIME NOT NULL  DEFAULT NOW(),
updated 	DATETIME NULL,
idPessoa 	INT NOT NULL, 

Foreign Key (idPessoa) REFERENCES Pessoas(id)

);

/*┌───────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
* │ INSERT INTO										                                                              │
* └───────────────────────────────────────────────────────────────────────────────────────────────────────────────┘
*/

/**
* ╔═══════════════════════════════════════════════════════════════════════════════════════════════════════════════╗
* ║ 3-                                         Itens			                          	                      ║
* ╚═══════════════════════════════════════════════════════════════════════════════════════════════════════════════╝
*
* ┌───────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
* │ @description: Items of a list, like products	                                                              │
* └───────────────────────────────────────────────────────────────────────────────────────────────────────────────┘
*/

Create table Itens (
id 			INT  			NOT NULL PRIMARY KEY  AUTO_INCREMENT,
nome			VARCHAR(500) 	NOT NULL,
quantidade		VARCHAR(300)	NOT NULL, 
descricao 		VARCHAR(300) 	NOT NULL,
flag_itemPego 	TINYINT 		NOT NULL DEFAULT '0',
status 		VARCHAR(300) 		NOT NULL DEFAULT 'ATIVO' ,
created		DATETIME NOT NULL  DEFAULT NOW(),
updated 	DATETIME NULL,

idLista INT NOT NULL,

Foreign Key (idLista) REFERENCES lista(id)

);

/*┌───────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
* │ INSERT INTO										                                                              │
* └───────────────────────────────────────────────────────────────────────────────────────────────────────────────┘
*/

